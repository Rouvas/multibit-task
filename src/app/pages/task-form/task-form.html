<form [formGroup]="taskForm" class="flex flex-col" (ngSubmit)="saveTask()">

  <h2 class="font-bold text-xl">
    {{ (id$ | async) ? 'Редактирование задачи' : 'Создание задачи' }}
  </h2>

  <div class="mt-2">
    <label class="block">Название</label>
    <input formControlName="title" type="text" class="mt-1 block w-full border rounded p-2" placeholder="Например: Написать 1 главу диплома" />
  </div>

  <div class="mt-2">
    <label class="block">Описание</label>
    <input formControlName="description" type="text" class="mt-1 block w-full border rounded p-2" placeholder="Например: Описать составные части МЭС" />
  </div>

  @if (id$ | async) {
    <div class="mt-2">
      <div class="block">Статус задачи</div>
      <div class="flex gap-2 mt-2">
        <div class="inline-flex items-center">
          <label class="relative flex items-center cursor-pointer" for="ready">
            <input type="radio" class="peer h-5 w-5 cursor-pointer appearance-none rounded-full border border-slate-300 checked:border-slate-400 transition-all" id="ready" [value]="true" formControlName="status" name="status">
            <span class="absolute bg-emerald-600 w-3 h-3 rounded-full opacity-0 peer-checked:opacity-100 transition-opacity top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
      </span>
          </label>
          <label class="ml-2 cursor-pointer text-sm" for="ready">Выполнено</label>
        </div>

        <div class="inline-flex items-center">
          <label class="relative flex items-center cursor-pointer" for="notReady">
            <input type="radio" class="peer h-5 w-5 cursor-pointer appearance-none rounded-full border border-slate-300 checked:border-slate-400 transition-all" [value]="false" id="notReady" formControlName="status" name="status">
            <span class="absolute bg-red-600 w-3 h-3 rounded-full opacity-0 peer-checked:opacity-100 transition-opacity top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
      </span>
          </label>
          <label class="ml-2 cursor-pointer text-sm" for="notReady">Не выполнено</label>
        </div>
      </div>
    </div>
  }

  <div class="inline-flex gap-2 mt-4">
    <button type="submit" class="bg-emerald-500 text-sm rounded px-4 py-2 text-center text-white hover:bg-emerald-600">Сохранить</button>
    <a routerLink="../" class="bg-red-400 cursor-pointer text-sm rounded px-4 py-2 text-center text-white transition-colors hover:bg-red-600">Назад</a>
  </div>

</form>
